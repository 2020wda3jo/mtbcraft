<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mtbcraft.mapper.AndroidMapper">
<!-- 안드로이드 로그인 -->
	<select id="LoginProcess" parameterType="hashMap" resultType="com.mtbcraft.dto.AnLogin">
		select r_id, r_pw from rider where r_id = #{r_id} and r_pw = #{r_pw}
	</select>
	
	<!-- 코스 상세 보기 -->
	<select id="getCourseItem" parameterType="String" resultType="com.mtbcraft.dto.Course">
		select * from course where c_num = #{c_num}
	</select>
	
	<!-- 코스 스크랩 -->
	<select id="insertScrap" parameterType="com.mtbcraft.dto.Scrap_Status">
		insert into scrap_status
		(ss_rider, ss_course) values (
		#{ss_rider},
		#{ss_course} )
	</select>
	
	<!-- 내 스크립 리스트 -->
	<select id="getScrap" parameterType="String" resultType="com.mtbcraft.dto.Scrap_Status">
		select ss_rider, ss_course, c_distance, c_level, c_area from course INNER JOIN
		scrap_status ON(scrap_status.SS_COURSE = course.C_NUM and scrap_status.SS_RIDER=#{ss_rider} );
	</select>
	
	<!--  내 스크랩 코스 보기 -->
	<select id="getScrapDetail" parameterType="String" resultType="com.mtbcraft.dto.Scrap_Status">
		select * from course where c_num = #{c_num}
	</select>
	
	<!-- 주행기록전체보기 -->
	<select id="getRidingRecordAll" parameterType="String" resultType="com.mtbcraft.dto.RidingRecord">
		select * from riding_record order by rr_num desc
	</select>
	
	<!-- 주행기록전체보기 -->
	<select id="getRidingRecordAllItem" parameterType="String" resultType="com.mtbcraft.dto.RidingRecord">
		select * from riding_record where rr_num = #{rr_num}
	</select>
	
</mapper>