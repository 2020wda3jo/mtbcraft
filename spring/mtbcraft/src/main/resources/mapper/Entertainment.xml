<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mtbcraft.mapper.EntertainmentMapper">

	
	<select id="getBadge" resultType="com.mtbcraft.dto.Badge">
		select * from badge order by bg_num
	</select>

	<select id="getMission" resultType="com.mtbcraft.dto.Mission">
		select * from mission ORDER
		BY m_num
	</select>

	<select id="getMissionComplete" parameterType="String"
		resultType="com.mtbcraft.dto.MissionComplete">
		select * from mission_complete where mc_complete = 1 AND
		mc_rider = #{mc_rider}
	</select>

	<insert id="missionUpload">
		insert into mission(m_num, m_badge, m_name,m_content, m_type)
		values(SEQ_MISSIONNUM.nextval, #{m_badge},#{m_name}, #{m_content}, #{m_type})
	</insert>
	
	<insert id="BadgeUpload" parameterType="com.mtbcraft.dto.Badge">
		insert into badge(bg_num, bg_name, bg_image)
		values(SEQ_BADGE.nextval, #{bg_name}, #{bg_image})
	</insert>

	<select id="getCompIng" resultType="com.mtbcraft.dto.CompIng">
		select * from competition
		where (SUBSTR(comp_period,1,8)) &lt; (select
		to_char(SYSDATE,'YYYYMMDD') from dual ) AND (SUBSTR(comp_period,9,16))
		&gt; (select to_char(SYSDATE,'YYYYMMDD') from dual)
	</select>


	<select id="getCompetition"
		resultType="com.mtbcraft.dto.Competition">
		select * from competition where (SUBSTR(comp_period,9,16))
		&lt; (select to_char(SYSDATE,'YYYYMMDD')from dual)
	</select>



</mapper>